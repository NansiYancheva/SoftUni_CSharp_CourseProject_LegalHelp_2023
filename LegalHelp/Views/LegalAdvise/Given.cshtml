@using LegalHelpSystem.Web.Infrastructure.Extensions;
@model IEnumerable<LegalAdviseViewModel>
@{
    ViewData["Title"] = "My Legal Advises";
}

<h2 class="text-center">@ViewData["Title"]</h2>
<hr />

@if (!Model.Any())
{
    <h4 class="text-center">You do not have any legal advises yet!</h4>
}
else
{
    <div class="text-center row">
        <h4 class="text-center">Your Total Reviews</h4>
        <td>
            <a asp-controller="Review" asp-action="View" asp-route-id="@User.GetId()"
           class="btn btn-primary">View Reviews</a>
        </td>
    </div>

    <div class="text-center row">
        <table class="table">
            <thead>
                <tr>
                    <th scope="col"></th>
                    <th scope="col">Subject</th>
                    <th scope="col">Request Description</th>
                    <th scope="col">Legal Advise</th>
                    <th scope="col">Reviews of yours legal advises</th>
                    @if (this.User.IsAdmin())
                    {
                        <th scope="col">More Options</th>
                    }
                </tr>
            </thead>
            <tbody class="table-group-divider">

                @foreach (var legalAdvise in Model)
                {
                    <tr>
                        <th scope="row"></th>
                        <td>@legalAdvise.TicketSubject</td>
                        <td>@legalAdvise.TicketDescription</td>
                        <td>@legalAdvise.AdviseResponse</td>
                        <td>
                            <a asp-controller="Review" asp-action="View" asp-route-id="@legalAdvise.Id"
                       class="btn btn-primary">View Reviews</a>
                        </td>


                        @*@if (this.User.IsAdmin())
                {
                <td>
                <a asp-controller="Ticket" asp-action="Edit" asp-route-id="@ticket.Id"
                class="btn btn-warning">Edit</a>
                <a asp-controller="Ticket" asp-action="Delete" asp-route-id="@ticket.Id"
                class="btn btn-danger">Delete</a>
                </td>
                }*@
                    </tr>
                }
            </tbody>
        </table>
    </div>
}

@section Scripts
    {
    <partial name="_ValidationScriptsPartial" />
}

